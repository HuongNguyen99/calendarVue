{"remainingRequest":"D:\\Test function\\calendarVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Test function\\calendarVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Test function\\calendarVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Test function\\calendarVue\\src\\components\\CalendarMonth.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Test function\\calendarVue\\src\\components\\CalendarMonth.vue","mtime":1620925107513},{"path":"D:\\Test function\\calendarVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Test function\\calendarVue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Test function\\calendarVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Test function\\calendarVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsKaW1wb3J0IHdlZWtkYXkgZnJvbSAiZGF5anMvcGx1Z2luL3dlZWtkYXkiOwppbXBvcnQgd2Vla09mWWVhciBmcm9tICJkYXlqcy9wbHVnaW4vd2Vla09mWWVhciI7CmltcG9ydCBDYWxlbmRhck1vbnRoRGF5SXRlbSBmcm9tICIuL0NhbGVuZGFyTW9udGhEYXlJdGVtIjsKaW1wb3J0IENhbGVuZGFyRGF0ZUluZGljYXRvciBmcm9tICIuL0NhbGVuZGFyRGF0ZUluZGljYXRvciI7CmltcG9ydCBDYWxlbmRhckRhdGVTZWxlY3RvciBmcm9tICIuL0NhbGVuZGFyRGF0ZVNlbGVjdG9yIjsKZGF5anMuZXh0ZW5kKHdlZWtkYXkpOwpkYXlqcy5leHRlbmQod2Vla09mWWVhcik7CmNvbnN0IFdFRUtEQVlTID0gWyJNb24iLCAiVHVlIiwgIldlZCIsICJUaHUiLCAiRnJpIiwgIlNhdCIsICJTdW4iXTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYWxlbmRhck1vbnRoIiwKICBjb21wb25lbnRzOiB7CiAgICBDYWxlbmRhck1vbnRoRGF5SXRlbSwKICAgIENhbGVuZGFyRGF0ZUluZGljYXRvciwKICAgIENhbGVuZGFyRGF0ZVNlbGVjdG9yCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkRGF0ZTogZGF5anMoKSwKICAgICAgdG9kYXk6IGRheWpzKCkuZm9ybWF0KCJZWVlZLU1NLUREIiksCiAgICAgIHdlZWtkYXlzOiBXRUVLREFZUwogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgZGF5cygpIHsKICAgICAgcmV0dXJuIFsuLi50aGlzLnByZXZpb3VzTW9udGhEYXlzLCAuLi50aGlzLmN1cnJlbnRNb250aERheXMsIC4uLnRoaXMubmV4dE1vbnRoRGF5c107CiAgICB9LAoKICAgIG1vbnRoKCkgewogICAgICByZXR1cm4gTnVtYmVyKHRoaXMuc2VsZWN0ZWREYXRlLmZvcm1hdCgiTSIpKTsKICAgIH0sCgogICAgeWVhcigpIHsKICAgICAgcmV0dXJuIE51bWJlcih0aGlzLnNlbGVjdGVkRGF0ZS5mb3JtYXQoIllZWVkiKSk7CiAgICB9LAoKICAgIG51bWJlck9mRGF5c0luTW9udGgoKSB7CiAgICAgIHJldHVybiBkYXlqcyhgJHt0aGlzLnllYXJ9LSR7dGhpcy5tb250aH0tMDFgKS5kYXlzSW5Nb250aCgpOwogICAgfSwKCiAgICBjdXJyZW50TW9udGhEYXlzKCkgewogICAgICByZXR1cm4gWy4uLkFycmF5KHRoaXMubnVtYmVyT2ZEYXlzSW5Nb250aCldLm1hcCgoZGF5LCBpbmRleCkgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBkYXRlOiBkYXlqcyhgJHt0aGlzLnllYXJ9LSR7dGhpcy5tb250aH0tJHtpbmRleCArIDF9YCkuZm9ybWF0KCJZWVlZLU1NLUREIiksCiAgICAgICAgICBkYXlPZk1vbnRoOiBpbmRleCArIDEsCiAgICAgICAgICBpc0N1cnJlbnRNb250aDogdHJ1ZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKCiAgICBwcmV2aW91c01vbnRoRGF5cygpIHsKICAgICAgY29uc3QgZmlyc3REYXlPZlRoZU1vbnRoV2Vla2RheSA9IHRoaXMuZ2V0V2Vla2RheSh0aGlzLmN1cnJlbnRNb250aERheXNbMF0uZGF0ZSk7CiAgICAgIGNvbnN0IHByZXZpb3VzTW9udGggPSBkYXlqcyhgJHt0aGlzLnllYXJ9LSR7dGhpcy5tb250aH0tMDFgKS5zdWJ0cmFjdCgxLCAibW9udGgiKTsKICAgICAgY29uc3QgcHJldmlvdXNNb250aExhc3RNb25kYXlEYXlPZk1vbnRoID0gZGF5anModGhpcy5jdXJyZW50TW9udGhEYXlzWzBdLmRhdGUpLnN1YnRyYWN0KGZpcnN0RGF5T2ZUaGVNb250aFdlZWtkYXkgLSAxLCAiZGF5IikuZGF0ZSgpOyAvLyBDb3ZlciBmaXJzdCBkYXkgb2YgdGhlIG1vbnRoIGJlaW5nIHN1bmRheSAoZmlyc3REYXlPZlRoZU1vbnRoV2Vla2RheSA9PT0gMCkKCiAgICAgIGNvbnN0IHZpc2libGVOdW1iZXJPZkRheXNGcm9tUHJldmlvdXNNb250aCA9IGZpcnN0RGF5T2ZUaGVNb250aFdlZWtkYXkgPyBmaXJzdERheU9mVGhlTW9udGhXZWVrZGF5IC0gMSA6IDY7CiAgICAgIHJldHVybiBbLi4uQXJyYXkodmlzaWJsZU51bWJlck9mRGF5c0Zyb21QcmV2aW91c01vbnRoKV0ubWFwKChkYXksIGluZGV4KSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRhdGU6IGRheWpzKGAke3ByZXZpb3VzTW9udGgueWVhcigpfS0ke3ByZXZpb3VzTW9udGgubW9udGgoKSArIDF9LSR7cHJldmlvdXNNb250aExhc3RNb25kYXlEYXlPZk1vbnRoICsgaW5kZXh9YCkuZm9ybWF0KCJZWVlZLU1NLUREIiksCiAgICAgICAgICBkYXlPZk1vbnRoOiBwcmV2aW91c01vbnRoTGFzdE1vbmRheURheU9mTW9udGggKyBpbmRleCwKICAgICAgICAgIGlzQ3VycmVudE1vbnRoOiBmYWxzZQogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKCiAgICBuZXh0TW9udGhEYXlzKCkgewogICAgICBjb25zdCBsYXN0RGF5T2ZUaGVNb250aFdlZWtkYXkgPSB0aGlzLmdldFdlZWtkYXkoYCR7dGhpcy55ZWFyfS0ke3RoaXMubW9udGh9LSR7dGhpcy5jdXJyZW50TW9udGhEYXlzLmxlbmd0aH1gKTsKICAgICAgY29uc3QgbmV4dE1vbnRoID0gZGF5anMoYCR7dGhpcy55ZWFyfS0ke3RoaXMubW9udGh9LTAxYCkuYWRkKDEsICJtb250aCIpOwogICAgICBjb25zdCB2aXNpYmxlTnVtYmVyT2ZEYXlzRnJvbU5leHRNb250aCA9IGxhc3REYXlPZlRoZU1vbnRoV2Vla2RheSA/IDcgLSBsYXN0RGF5T2ZUaGVNb250aFdlZWtkYXkgOiBsYXN0RGF5T2ZUaGVNb250aFdlZWtkYXk7CiAgICAgIHJldHVybiBbLi4uQXJyYXkodmlzaWJsZU51bWJlck9mRGF5c0Zyb21OZXh0TW9udGgpXS5tYXAoKGRheSwgaW5kZXgpID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZGF0ZTogZGF5anMoYCR7bmV4dE1vbnRoLnllYXIoKX0tJHtuZXh0TW9udGgubW9udGgoKSArIDF9LSR7aW5kZXggKyAxfWApLmZvcm1hdCgiWVlZWS1NTS1ERCIpLAogICAgICAgICAgZGF5T2ZNb250aDogaW5kZXggKyAxLAogICAgICAgICAgaXNDdXJyZW50TW9udGg6IGZhbHNlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgZ2V0V2Vla2RheShkYXRlKSB7CiAgICAgIHJldHVybiBkYXlqcyhkYXRlKS53ZWVrZGF5KCk7CiAgICB9LAoKICAgIHNlbGVjdERhdGUobmV3U2VsZWN0ZWREYXRlKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gbmV3U2VsZWN0ZWREYXRlOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["CalendarMonth.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"calendar-month\">\r\n    <div class=\"calendar-month-header\">\r\n      <CalendarDateIndicator\r\n        :selected-date=\"selectedDate\"\r\n        class=\"calendar-month-header-selected-month\"\r\n      />\r\n\r\n      <CalendarDateSelector\r\n        :current-date=\"today\"\r\n        :selected-date=\"selectedDate\"\r\n        @dateSelected=\"selectDate\"\r\n      />\r\n    </div>\r\n\r\n    <ol class=\"day-of-week\">\r\n      <li v-for=\"weekday in weekdays\" :key=\"weekday\">{{ weekday }}</li>\r\n    </ol>\r\n\r\n    <ol class=\"days-grid\">\r\n      <CalendarMonthDayItem\r\n        v-for=\"day in days\"\r\n        :key=\"day.date\"\r\n        :day=\"day\"\r\n        :is-today=\"day.date === today\"\r\n        :is-current-month=\"day.isCurrentMonth\"\r\n      />\r\n    </ol>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\nimport weekday from \"dayjs/plugin/weekday\";\r\nimport weekOfYear from \"dayjs/plugin/weekOfYear\";\r\nimport CalendarMonthDayItem from \"./CalendarMonthDayItem\";\r\nimport CalendarDateIndicator from \"./CalendarDateIndicator\";\r\nimport CalendarDateSelector from \"./CalendarDateSelector\";\r\n\r\ndayjs.extend(weekday);\r\ndayjs.extend(weekOfYear);\r\n\r\nconst WEEKDAYS = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\r\n\r\nexport default {\r\n  name: \"CalendarMonth\",\r\n\r\n  components: {\r\n    CalendarMonthDayItem,\r\n    CalendarDateIndicator,\r\n    CalendarDateSelector\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      selectedDate: dayjs(),\r\n      today: dayjs().format(\"YYYY-MM-DD\"),\r\n      weekdays: WEEKDAYS\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    days() {\r\n      return [\r\n        ...this.previousMonthDays,\r\n        ...this.currentMonthDays,\r\n        ...this.nextMonthDays\r\n      ];\r\n    },\r\n\r\n    month() {\r\n      return Number(this.selectedDate.format(\"M\"));\r\n    },\r\n\r\n    year() {\r\n      return Number(this.selectedDate.format(\"YYYY\"));\r\n    },\r\n\r\n    numberOfDaysInMonth() {\r\n      return dayjs(`${this.year}-${this.month}-01`).daysInMonth();\r\n    },\r\n\r\n    currentMonthDays() {\r\n      return [...Array(this.numberOfDaysInMonth)].map((day, index) => {\r\n        return {\r\n          date: dayjs(`${this.year}-${this.month}-${index + 1}`).format(\r\n            \"YYYY-MM-DD\"\r\n          ),\r\n          dayOfMonth: index + 1,\r\n          isCurrentMonth: true\r\n        };\r\n      });\r\n    },\r\n\r\n    previousMonthDays() {\r\n      const firstDayOfTheMonthWeekday = this.getWeekday(\r\n        this.currentMonthDays[0].date\r\n      );\r\n      const previousMonth = dayjs(`${this.year}-${this.month}-01`).subtract(\r\n        1,\r\n        \"month\"\r\n      );\r\n\r\n      const previousMonthLastMondayDayOfMonth = dayjs(\r\n        this.currentMonthDays[0].date\r\n      )\r\n        .subtract(firstDayOfTheMonthWeekday - 1, \"day\")\r\n        .date();\r\n\r\n      // Cover first day of the month being sunday (firstDayOfTheMonthWeekday === 0)\r\n      const visibleNumberOfDaysFromPreviousMonth = firstDayOfTheMonthWeekday\r\n        ? firstDayOfTheMonthWeekday - 1\r\n        : 6;\r\n\r\n      return [...Array(visibleNumberOfDaysFromPreviousMonth)].map(\r\n        (day, index) => {\r\n          return {\r\n            date: dayjs(\r\n              `${previousMonth.year()}-${previousMonth.month() +\r\n                1}-${previousMonthLastMondayDayOfMonth + index}`\r\n            ).format(\"YYYY-MM-DD\"),\r\n            dayOfMonth: previousMonthLastMondayDayOfMonth + index,\r\n            isCurrentMonth: false\r\n          };\r\n        }\r\n      );\r\n    },\r\n\r\n    nextMonthDays() {\r\n      const lastDayOfTheMonthWeekday = this.getWeekday(\r\n        `${this.year}-${this.month}-${this.currentMonthDays.length}`\r\n      );\r\n\r\n      const nextMonth = dayjs(`${this.year}-${this.month}-01`).add(1, \"month\");\r\n\r\n      const visibleNumberOfDaysFromNextMonth = lastDayOfTheMonthWeekday\r\n        ? 7 - lastDayOfTheMonthWeekday\r\n        : lastDayOfTheMonthWeekday;\r\n\r\n      return [...Array(visibleNumberOfDaysFromNextMonth)].map((day, index) => {\r\n        return {\r\n          date: dayjs(\r\n            `${nextMonth.year()}-${nextMonth.month() + 1}-${index + 1}`\r\n          ).format(\"YYYY-MM-DD\"),\r\n          dayOfMonth: index + 1,\r\n          isCurrentMonth: false\r\n        };\r\n      });\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getWeekday(date) {\r\n      return dayjs(date).weekday();\r\n    },\r\n\r\n    selectDate(newSelectedDate) {\r\n      this.selectedDate = newSelectedDate;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.calendar-month {\r\n  position: relative;\r\n  background-color: var(--grey-200);\r\n  border: solid 1px var(--grey-300);\r\n}\r\n\r\n.day-of-week {\r\n  color: var(--grey-800);\r\n  font-size: 18px;\r\n  background-color: #fff;\r\n  padding-bottom: 5px;\r\n  padding-top: 10px;\r\n}\r\n\r\n.day-of-week,\r\n.days-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n}\r\n\r\n.day-of-week > * {\r\n  text-align: right;\r\n  padding-right: 5px;\r\n}\r\n\r\n.days-grid {\r\n  height: 100%;\r\n  position: relative;\r\n  grid-column-gap: var(--grid-gap);\r\n  grid-row-gap: var(--grid-gap);\r\n  border-top: solid 1px var(--grey-200);\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}